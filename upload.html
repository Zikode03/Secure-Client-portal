<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Batch Document Upload | Secure Client Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;600;700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

<style>
/* Your existing CSS remains mostly unchanged ‚Äì only adding drag states */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: "Public Sans", sans-serif;
  background: #f6f6f8;
  color: #0f172a;
  height: 100vh;
  overflow: hidden;
}

:root {
  --primary: #1754cf;
  --blue: #2563eb;
  --border: #e5e7eb;
  --muted: #64748b;
  --success: #10b981;
  --warning: #f59e0b;
}

.app-layout { display: flex; height: 100vh; overflow: hidden; }

.sidebar {
  width: 260px;
  background: linear-gradient(180deg, #0f172a, #020617);
  color: white;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
}

/* Your sidebar styles here ‚Äì unchanged */
.sidebar-header { padding: 22px; display: flex; gap: 12px; align-items: center; }
.sidebar-header i { font-size: 30px; color: #60a5fa; }
.sidebar-header h1 { margin: 0; font-size: 16px; }
.sidebar-header p { margin: 0; font-size: 12px; color: #94a3b8; }
.nav { padding: 16px; flex: 1; }
.nav a { display: flex; gap: 12px; align-items: center; padding: 12px 14px; border-radius: 10px; color: #cbd5f5; text-decoration: none; margin-bottom: 6px; }
.nav a.active { background: var(--blue); color: white; }
.nav a:hover { background: #1e293b; }
.sidebar-footer { padding: 16px; }
.user-box { background: #1e293b; padding: 12px; border-radius: 10px; margin-bottom: 12px; }
.user-box p { margin: 2px 0; font-size: 13px; }
.role { color: #60a5fa; font-size: 12px; }
.logout { width: 100%; background: none; border: none; color: #cbd5f5; padding: 12px; border-radius: 10px; cursor: pointer; text-align: left; }
.logout:hover { background: #1e293b; }

.content {
  flex: 1;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}

main {
  max-width: 1150px;
  margin: 0 auto;
  padding: 32px 24px;
  flex: 1;
}

h1 { font-size: 30px; font-weight: 900; }
.subtitle { margin-top: 6px; color: #64748b; }

/* Bulk settings ‚Äì unchanged */
.bulk-settings {
  margin-top: 28px;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 20px;
  display: flex;
  gap: 20px;
  align-items: center;
  flex-wrap: wrap;
}

/* Drop zone ‚Äì added drag states */
.drop-zone {
  margin-top: 24px;
  background: #fff;
  border: 2px dashed #cbd5f5;
  border-radius: 14px;
  padding: 60px;
  text-align: center;
  transition: all 0.2s ease;
}

.drop-zone.dragover {
  border-color: var(--primary);
  background: rgba(23,84,207,0.05);
  box-shadow: 0 0 0 4px rgba(23,84,207,0.1);
}

.drop-icon { width: 64px; height: 64px; border-radius: 50%; background: rgba(23,84,207,0.1); display: flex; align-items: center; justify-content: center; margin: auto; color: var(--primary); font-size: 32px; }
.drop-zone h2 { margin-top: 16px; font-size: 20px; font-weight: 800; }
.drop-zone p { margin-top: 6px; font-size: 14px; color: #64748b; }
.drop-zone button { margin-top: 18px; padding: 12px 28px; border-radius: 10px; border: none; background: var(--primary); color: #fff; font-weight: 700; cursor: pointer; }

/* Queue & Table ‚Äì unchanged + minor tweaks */
.queue-header { margin-top: 30px; display: flex; justify-content: space-between; font-weight: 800; }
table { width: 100%; margin-top: 12px; background: #fff; border-radius: 14px; border-collapse: collapse; overflow: hidden; border: 1px solid var(--border); }
thead { background: #f8fafc; }
th, td { padding: 16px 20px; text-align: left; font-size: 14px; }
th { font-size: 11px; text-transform: uppercase; color: #64748b; }
tr:not(:last-child) { border-bottom: 1px solid var(--border); }
.status { display: flex; align-items: center; gap: 8px; font-weight: 700; font-size: 12px; }
.dot { width: 8px; height: 8px; border-radius: 50%; }
.ready { color: var(--success); }
.ready .dot { background: var(--success); }
.warning { color: var(--warning); }
.warning .dot { background: var(--warning); }

/* Footer ‚Äì unchanged */
footer { background: #fff; border-top: 1px solid var(--border); padding: 20px 24px; margin-top: 40px; }
.footer-inner { max-width: 1150px; margin: 0 auto; display: flex; align-items: center; gap: 20px; }
.progress { flex: 1; }
.progress-bar { height: 8px; background: #e5e7eb; border-radius: 999px; overflow: hidden; }
.progress-fill { width: 0%; height: 100%; background: var(--primary); transition: width 0.4s ease; }
.footer-actions button { padding: 12px 26px; border-radius: 10px; font-weight: 700; border: none; }
.cancel { background: #f1f5f9; }
.submit { background: var(--primary); color: #fff; }
</style>
</head>

<body>

<div class="app-layout">

  <!-- Sidebar (unchanged) -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <i class="fa-solid fa-shield-halved"></i>
      <div>
        <h1>Prospera</h1>
        <p>Secure Client Portal</p>
      </div>
    </div>
      <nav class="nav">
  <a href="Clientportal.html">
    <i class="fa fa-chart-line"></i> Dashboard
  </a>
  <a href="documents.html" class="active">
    <i class="fa fa-file"></i> Documents
  </a>
  <a href="clientrequest.html">
        <i class="fa fa-file-alt"></i> Requests
      </a>
  <a href="messages.html">
    <i class="fa fa-message"></i> Messages
  </a>
  <a href="settings.html">
    <i class="fa fa-gear"></i> Settings
  </a>
</nav>
    <div class="sidebar-footer">
      <div class="user-box">
        <p><strong>John Doe</strong></p>
        <p>client@example.com</p>
        <p class="role">Client</p>
      </div>
      <button class="logout"><i class="fa fa-sign-out"></i> Logout</button>
    </div>
  </aside>

  <div class="content">

    <main>
      <h1>Document Upload</h1>
      <p class="subtitle">Securely upload and categorize multiple documents for your accounting team.</p>

      <div class="bulk-settings">
        <div class="bulk-title"><span class="material-symbols-outlined">auto_awesome</span> Bulk Settings</div>
        <select><option>Select Project</option><option>Tax Filing 2023</option></select>
        <select><option>2024</option><option selected>2023</option></select>
        <button class="tag-btn">Add tags to all +</button>
      </div>

      <!-- Drop Zone -->
      <div class="drop-zone" id="dropZone">
        <div class="drop-icon"><span class="material-symbols-outlined">cloud_upload</span></div>
        <h2>Drag and drop files here</h2>
        <p>Supported: PDF, PNG, JPG, XLSX (Up to 50MB per file)</p>
        <button id="browseBtn">Browse Files</button>
        <input type="file" id="fileInput" multiple hidden accept=".pdf,.png,.jpg,.jpeg,.xlsx">
      </div>

      <!-- Queue -->
      <div class="queue-header">
        <div>Upload Queue (<span id="fileCount">0</span> files)</div>
        <div id="clearAll" style="color:var(--primary); cursor:pointer; display:none;">Clear all</div>
      </div>

      <table id="queueTable">
        <thead>
          <tr>
            <th>Document</th>
            <th>AI Suggestion</th>
            <th>Project / Year</th>
            <th>Status</th>
            <th style="text-align:right;">Actions</th>
          </tr>
        </thead>
        <tbody id="queueBody"></tbody>
      </table>
    </main>

    <footer>
      <div class="footer-inner">
        <div class="progress">
          <div style="display:flex; justify-content:space-between; font-weight:700;">
            <span>Overall Progress</span>
            <span id="progressPercent" style="color:var(--primary)">0%</span>
          </div>
          <div class="progress-bar">
            <div id="progressFill" class="progress-fill" style="width:0%;"></div>
          </div>
        </div>
        <div class="footer-actions">
          <button class="cancel">Cancel</button>
          <button class="submit">Confirm & Submit</button>
        </div>
      </div>
    </footer>

  </div>
</div>

<script>
// ‚îÄ‚îÄ File Upload Logic ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const dropZone   = document.getElementById('dropZone');
const fileInput  = document.getElementById('fileInput');
const browseBtn  = document.getElementById('browseBtn');
const queueBody  = document.getElementById('queueBody');
const fileCount  = document.getElementById('fileCount');
const clearAll   = document.getElementById('clearAll');
const progressFill = document.getElementById('progressFill');
const progressPercent = document.getElementById('progressPercent');

let filesList = [];

// Prevent default browser behavior for drag events
['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
  dropZone.addEventListener(eventName, e => e.preventDefault());
});

// Highlight on drag over
dropZone.addEventListener('dragenter', () => dropZone.classList.add('dragover'));
dropZone.addEventListener('dragover',  () => dropZone.classList.add('dragover'));
dropZone.addEventListener('dragleave', () => dropZone.classList.remove('dragover'));
dropZone.addEventListener('drop',      () => dropZone.classList.remove('dragover'));

// Handle dropped files
dropZone.addEventListener('drop', e => {
  const files = e.dataTransfer.files;
  if (files.length > 0) handleFiles(files);
});

// Browse button opens file picker
browseBtn.addEventListener('click', () => fileInput.click());
fileInput.addEventListener('change', () => {
  if (fileInput.files.length > 0) handleFiles(fileInput.files);
});

// Process selected/dropped files
function handleFiles(fileList) {
  Array.from(fileList).forEach(file => {
    if (filesList.some(f => f.name === file.name && f.size === file.size)) return; // avoid duplicates
    filesList.push(file);
    addToQueue(file);
  });
  updateStats();
}

// Add row to table
function addToQueue(file) {
  const sizeMB = (file.size / (1024 * 1024)).toFixed(2);
  const row = document.createElement('tr');
  row.innerHTML = `
    <td>${file.name}</td>
    <td>${guessDocumentType(file.name)}</td>
    <td>Tax Filing 2023 / 2023</td>
    <td class="status ready"><span class="dot"></span>READY</td>
    <td style="text-align:right;">
      <button onclick="this.parentElement.parentElement.remove(); removeFile('${file.name}')">üóëÔ∏è</button>
    </td>
  `;
  queueBody.appendChild(row);
}

// Simple fake AI suggestion
function guessDocumentType(filename) {
  const lower = filename.toLowerCase();
  if (lower.includes('bank') || lower.includes('stmt')) return 'Bank Statement';
  if (lower.includes('inv') || lower.includes('receipt')) return 'Expense Receipt';
  if (lower.includes('invoice')) return 'Invoice';
  if (lower.includes('tax')) return 'Tax Document';
  return 'Unknown Type';
}

// Remove file from list
function removeFile(name) {
  filesList = filesList.filter(f => f.name !== name);
  updateStats();
}

// Update count, progress, clear button visibility
function updateStats() {
  const count = filesList.length;
  fileCount.textContent = count;
  clearAll.style.display = count > 0 ? 'block' : 'none';

  // Fake progress (in real app you'd update based on actual upload)
  const progress = count > 0 ? Math.min(100, count * 25) : 0;
  progressFill.style.width = progress + '%';
  progressPercent.textContent = progress + '%';
}

// Clear all
clearAll.addEventListener('click', () => {
  if (confirm('Clear all files from queue?')) {
    queueBody.innerHTML = '';
    filesList = [];
    updateStats();
  }
});
</script>

</body>
</html>